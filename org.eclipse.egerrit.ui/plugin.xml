<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.eclipse.egerrit.ui.editors.ChangeDetailEditor"
            default="false"
            extensions="mpe"
            icon="icons/EGerritcolor16.png"
            id="org.eclipse.egerrit.ui.editors.ChangeDetailEditor"
            name="ChangeDetail Editor">
      </editor>
   </extension>
   <extension
         id="org.eclipse.egerrit.ui.commentMarker"
         name="Gerrit comment"
         point="org.eclipse.core.resources.markers">
      <super type="org.eclipse.core.resources.taskmarker"/>
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.core.resources.textmarker"/>
      <persistent value="false" />
      <attribute
            name="commentInfo">
      </attribute>
      <attribute
            name="fileInfo">
      </attribute>
      <attribute
            name="isDraft">
      </attribute>
      <attribute
            name="gerritClient">
      </attribute>
   </extension>

   <extension
        point="org.eclipse.ui.editors.annotationTypes">
        <type
            name="org.eclipse.egerrit.ui.commentAnnotation"
            markerType="org.eclipse.egerrit.ui.commentMarker"
            />
    </extension>

    <extension
        point="org.eclipse.ui.editors.markerAnnotationSpecification">
        <specification
              symbolicIcon="warning"
              quickFixIcon="icons/showAnonymousComments.gif"
        	  icon="icons/showAnonymousComments.gif"
              annotationType="org.eclipse.egerrit.ui.commentAnnotation"
              colorPreferenceKey="org.egerrit.ui.comment.color"
              colorPreferenceValue="30,144,255"
              contributesToHeader="true"
              highlightPreferenceKey="org.egerrit.ui.comment.highlight"
              highlightPreferenceValue="false"
              includeOnPreferencePage="true"
              isGoToNextNavigationTarget="true"
              isGoToNextNavigationTargetKey="org.egerrit.ui.comment.next"
              isGoToPreviousNavigationTarget="true"
              isGoToPreviousNavigationTargetKey="org.egerrit.ui.comment.previous"
              label="%egerrit.marker.specification.label"
              overviewRulerPreferenceKey="org.egerrit.ui.comment.overviewruler"
              overviewRulerPreferenceValue="true"
              presentationLayer="4"
              showInNextPrevDropdownToolbarAction="true"
              showInNextPrevDropdownToolbarActionKey="org.egerrit.ui.comment.dropdown"
              textPreferenceKey="org.egerrit.ui.comment.error.text"
              textPreferenceValue="true"
              textStylePreferenceKey="org.egerrit.ui.comment.text.style"
              textStylePreferenceValue="BOX"
              verticalRulerPreferenceKey="org.egerrit.ui.comment.verticalruler"
              verticalRulerPreferenceValue="true"/>
  </extension>

  
  <extension point="org.eclipse.ui.ide.markerResolution">
	<markerResolutionGenerator
       markerType="org.eclipse.egerrit.ui.commentMarker"
       class="org.eclipse.egerrit.ui.editors.QuickFixer"/>
   </extension>

<extension point="org.eclipse.ui.menus">
<menuContribution
    class="org.eclipse.egerrit.ui.editors.MarkerContributionFactory"
    locationURI="popup:#AbstractTextEditorRulerContext?after=additions">
  <dynamic
         class="org.eclipse.egerrit.ui.editors.MarkerMenuContribution"
         id="org.eclipse.egerrit.ui.editors.MarkerMenuContribution">
  </dynamic>
</menuContribution>
</extension>

</plugin>
