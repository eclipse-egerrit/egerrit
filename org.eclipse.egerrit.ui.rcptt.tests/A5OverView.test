--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: A5OverView
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _9GHRgIPsEeWD_fYsit66JA
Runtime-Version: 2.0.2.201511100828
Save-Time: 1/25/16 1:53 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

with [get-view "Gerrit Dashboard (EGerrit)"] {
    with [get-combo -after [get-label "Total reviews:.*"]] {
        set-text "project:egerrit/RCPTTtest AND status:new"
    }
    get-button Search | click
    with [get-table] {
        get-cell 0 2 | click
        get-cell 0 2 | click
        get-cell 0 2 | mouse down -count 2
        double-click
        get-cell 0 2 | mouse up -count 2
    }
}

with [get-editor ".*"] {
    get-button Refresh | click
    get-button Rebase | click
    
}
get-window "Code Review - Rebase Change" | get-button OK | click
try { get-window "Rebase failed" | get-button OK | click } -catch { wait -ms 1000 } -times 5 -finally {}
    
get-editor".*" | get-button Checkout | click
get-window Error | get-button OK | click
get-editor ".*" | get-button "Cherry-Pick" | click
get-window "Code Review - Cherry Pick Change to Another Branch" | get-button "Cherry Pick Change" | click
with [get-editor ".*" | get-button "Reply..."] {
    click
    get-menu "Reply..." | click
}
with [get-window "Reply dialog"] {
    with [get-editbox] {
        set-text "Looks great"
        click-text "1:12"
    }
    get-button Post | click
}
with [get-editor ".*"] {
    get-tab-folder | get-tab-item Messages | click
}
with [get-editor ".*"] {

    with [get-tab-folder] {
        get-tab-item Files | click
        get-tab-item History | click
    }
    close
}

get-view "Gerrit Dashboard (EGerrit)" | get-button "Find all Open Reviews for the selected repository" | click -arrow
get-menu Merged | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find all Open Reviews for the selected repository" | click -arrow
get-menu Abandoned | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu Changes | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu Drafts | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu "Watched Changes" | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu "Starred Changes" | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu "Recently Closed Changes" | click
get-view "Gerrit Dashboard (EGerrit)" | get-button "Find my Changes reviews for the selected repository" 
    | click -arrow
get-menu "Draft Comments" | click
with [get-view "Gerrit Dashboard (EGerrit)"] {
    get-button "Open Gerrit documentation" | click
    get-combo -after [get-label ".*"] | select "is:closed AND (owner:self OR reviewer:self) AND limit:10"
    get-button Search | click
    get-combo -after [get-label ".*"] | set-text "status:open"
    get-button Search | click
}
//get-editor "Gerrit Code Review - Searching Changes" | close
try { get-editor ".*" | close } -catch { wait -ms 1000 } -times 5 -finally {}


with [get-view "Gerrit Dashboard (EGerrit)" | get-table] {
    get-cell 0 2 | click
    get-cell 0 2 | mouse down -count 2
    double-click
    get-cell 0 2 | mouse up -count 2
}
with [get-editor ".*"] {
    with [get-group General] {
        get-editbox -after [get-label "Topic:"] | set-text "this is a test topic MODIFIED"
        get-button Save | click
    }
    with [get-group Reviewers] {
        get-editbox -after [get-label "Reviewer:"] | set-text test2
        get-button Add | click
    }
    get-tab-folder | get-tab-item Messages | click
    with [get-editbox -index 3] {
        set-text "Let's change this now!\n\n"
            + "Change-Id: Ic6ddee00397e234caa619baea32d956847308f39\n"
    }
    get-button Save | click
    with [get-editbox -index 3] {
        set-text "Let's change this\n\n"
            + "Change-Id: Ic6ddee00397e234caa619baea32d956847308f39\n"
    }
    get-button Save | click

    close
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
